{
  "title": "AC Project",
  "type": "object",
  "sharedData": [
    {
      "from": ["sites", "#", "housingOutputs", "units", "numberOfUnitsTotal"],
      "to": ["housingCompletions", "#", "details", "siteDetails", "totalLiveUnits"]
    }
  ],
  "required": ["sites", "grantExpenditure", "housingCompletions", "s151submission"],
  "properties": {
    "sites": {
      "type": "array",
      "title": "Sites",
      "items": {
        "type": "object",
        "title": "Site",
        "required": ["summary", "housingOutputs", "milestonesAndProgress"],
        "properties": {
          "summary": {
            "type": "object",
            "title": "Summary",
            "required": ["name", "ref"],
            "properties": {
              "name": {
                "type": "string",
                "title": "Name"
              },
              "ref": {
                "type": "string",
                "title": "LMT / GIS ref"
              },
              "totalNoOfUnits": {
                "type": "object",
                "title": "Total number of units",
                "properties": {
                  "baseline": {
                    "type": "string",
                    "title": "Baseline",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "summary",
                      "sitesSummary",
                      "units",
                      "numberOfUnitsTotal"
                    ]
                  },
                  "live": {
                    "type": "string",
                    "title": "Live",
                    "readonly": true
                  }
                }
              },
              "affordableHousingUnits": {
                "type": "object",
                "title": "Affordable Housing Units",
                "properties": {
                  "baseline": {
                    "title": "Baseline",
                    "type": "string",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "summary",
                      "sitesSummary",
                      "units",
                      "numberOfUnits",
                      "numberOfUnitsAffordable"
                    ]
                  },
                  "live": {
                    "title": "Live",
                    "type": "string",
                    "readonly": true
                  }
                }
              },
              "planningStatus": {
                "type": "string",
                "title": "Planning Status",
                "readonly": true
              }
            }
          },
          "housingOutputs": {
            "type": "object",
            "title": "Housing Outputs",
            "required": ["units", "paceOfConstruction", "modernMethodsOfConstruction", "changesRequired"],
            "properties": {
              "baselineTotals": {
                "type": "object",
                "title": "",
                "horizontal": true,
                "properties": {
                  "baselineunits": {
                    "type": "string",
                    "title": "Baseline Total Units",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "summary",
                      "sitesSummary",
                      "units",
                      "numberOfUnitsTotal"
                    ]
                  },
                  "baselineAffordableHousingUnits": {
                    "type": "string",
                    "title": "Baseline Affordable Housing Units",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "summary",
                      "sitesSummary",
                      "units",
                      "numberOfUnits",
                      "numberOfUnitsAffordable"
                    ]
                  }
                }
              },
              "units": {
                "type": "object",
                "title": "",
                "required": ["numberOfUnits"],
                "calculation": "setCreate(formData, [ 'affordableHousingUnits'], get(formData, 'numberOfUnits') ? parseMoney(get(formData, 'numberOfUnits', 'numberOfUnitsSharedOwnership')) + parseMoney(get(formData, 'numberOfUnits', 'numberOfUnitsAffordable')) :0); setCreate(formData,[ 'numberOfUnitsTotal'], get(formData, 'numberOfUnits') ? parseMoney(get(formData, 'numberOfUnits', 'numberOfUnitsMarket')) + parseMoney(get(formData, 'numberOfUnits', 'numberOfUnitsSharedOwnership')) + parseMoney(get(formData, 'numberOfUnits', 'numberOfUnitsAffordable')) + parseMoney(get(formData, 'numberOfUnits', 'numberOfUnitsPRS')) + parseMoney(get(formData, 'numberOfUnits', 'numberOfUnitsOther')): 0);",
                "properties": {
                  "numberOfUnits": {
                    "type": "object",
                    "horizontal": true,
                    "required": [
                      "numberOfUnitsMarket",
                      "numberOfUnitsSharedOwnership",
                      "numberOfUnitsAffordable",
                      "numberOfUnitsPRS",
                      "numberOfUnitsOther"
                    ],
                    "title": "Latest Units and Tenures",
                    "properties": {
                      "numberOfUnitsMarket": {
                        "type": "string",
                        "title": "Market Sale"
                      },
                      "numberOfUnitsSharedOwnership": {
                        "type": "string",
                        "title": "Shared Ownership"
                      },
                      "numberOfUnitsAffordable": {
                        "type": "string",
                        "title": "Affordable/Social Rent"
                      },
                      "numberOfUnitsPRS": {
                        "type": "string",
                        "title": "Private Rented"
                      },
                      "numberOfUnitsOther": {
                        "type": "string",
                        "title": "Other"
                      }
                    }
                  },
                  "numberOfUnitsTotal": {
                    "title": "Total",
                    "type": "string",
                    "readonly": true
                  },
                  "affordableHousingUnits": {
                    "type": "string",
                    "title": "Affordable Housing Units",
                    "readonly": true
                  },
                  "reasonForOther": {
                    "type": "string",
                    "extendedText": true,
                    "title": "Explanation of other units, if any?"
                  }
                }
              },
              "paceOfConstruction": {
                "type": "object",
                "title": "Pace of Construction",
                "properties": {
                  "timeBetweenStartAndCompletion": {
                    "type": "object",
                    "horizontal": true,
                    "title": "Months from start of first housing unit to completion of final unit.",
                    "properties": {
                      "baseline": {
                        "type": "string",
                        "title": "Baseline",
                        "readonly": true
                      },
                      "latestEstimate": {
                        "type": "string",
                        "title": "Lastest Estimate"
                      }
                    }
                  },
                  "reasonForChange": {
                    "type": "string",
                    "extendedText": true,
                    "title": "Reason for change/variance, and steps taken to address this."
                  }
                }
              },
              "modernMethodsOfConstruction": {
                "type": "object",
                "title": "Modern methods of construction",
                "properties": {
                  "categoryA": {
                    "type": "object",
                    "title": "Category A - Volumetric",
                    "horizontal": true,
                    "properties": {
                      "baseline": {
                        "type": "string",
                        "title": "Baseline",
                        "readonly": true,
                        "percentage": true,
                        "sourceKey": [
                          "baseline_data",
                          "outputs",
                          "mmcCategory",
                          "catA"
                        ]
                      },
                      "latestEstimate": {
                        "type": "string",
                        "percentage": true,
                        "title": "Lastest Estimate"
                      }
                    }
                  },
                  "categoryB": {
                    "type": "object",
                    "title": "Category B - Hybrid",
                    "horizontal": true,
                    "properties": {
                      "baseline": {
                        "type": "string",
                        "title": "Baseline",
                        "readonly": true,
                        "percentage": true,
                        "sourceKey": [
                          "baseline_data",
                          "outputs",
                          "mmcCategory",
                          "catB"
                        ]
                      },
                      "latestEstimate": {
                        "type": "string",
                        "title": "Lastest Estimate",
                        "percentage": true
                      }
                    }
                  },
                  "categoryC": {
                    "type": "object",
                    "title": "Category C - Panellised",
                    "horizontal": true,
                    "properties": {
                      "baseline": {
                        "type": "string",
                        "title": "Baseline",
                        "percentage": true,
                        "readonly": true,
                        "sourceKey": [
                          "baseline_data",
                          "outputs",
                          "mmcCategory",
                          "catC"
                        ]
                      },
                      "latestEstimate": {
                        "type": "string",
                        "title": "Lastest Estimate",
                        "percentage": true
                      }
                    }
                  },
                  "categoryD": {
                    "type": "object",
                    "title": "Category D - Sub Assemblies and Components",
                    "horizontal": true,
                    "properties": {
                      "baseline": {
                        "type": "string",
                        "title": "Baseline",
                        "percentage": true,
                        "readonly": true,
                        "sourceKey": [
                          "baseline_data",
                          "outputs",
                          "mmcCategory",
                          "catD"
                        ]
                      },
                      "latestEstimate": {
                        "type": "string",
                        "title": "Lastest Estimate",
                        "percentage": true
                      }
                    }
                  },
                  "categoryE": {
                    "type": "object",
                    "title": "Category E - No MMC",
                    "horizontal": true,
                    "properties": {
                      "baseline": {
                        "type": "string",
                        "title": "Baseline",
                        "percentage": true,
                        "readonly": true,
                        "sourceKey": [
                          "baseline_data",
                          "outputs",
                          "mmcCategory",
                          "catE"
                        ]
                      },
                      "latestEstimate": {
                        "type": "string",
                        "title": "Lastest Estimate",
                        "percentage": true
                      }
                    }
                  },
                  "reasonForChange": {
                    "type": "string",
                    "extendedText": true,
                    "title": "Reason for change/variance, and steps being taken to address this."
                  }
                }
              },
              "changesRequired": {
                "type": "object",
                "title": "",
                "properties": {
                  "changesConfirmation": {
                    "type": "string",
                    "enum": [
                      "Do not change the baseline for MMC, pace or scheme units – where there are variances these will be rectified in due course",
                      "Request change to baseline to match latest estimates"
                    ],
                    "radio": true,
                    "title": "Changes to Baseline?"
                  }
                },
                "dependencies": {
                  "changesConfirmation": {
                    "oneOf": [
                      {
                        "properties": {
                          "changesConfirmation": {
                            "enum": ["Do not change the baseline for MMC, pace or scheme units – where there are variances these will be rectified in due course"]
                          }
                        }
                      },
                      {
                        "properties": {
                          "changesConfirmation": {
                            "enum": ["Request change to baseline to match latest estimates"]
                          },
                          "reason": {
                            "type": "string",
                            "title": "What is the reason for the change?",
                            "extendedText": true
                          }
                        }
                      }
                    ]
                  }
                }
              }
            }
          },
          "milestonesAndProgress": {
            "type": "object",
            "title": "Milestones and Progress",
            "required": [
              "commencementOfDueDiligence",
              "completionOfSurveys",
              "procurementOfWorksCommencementDate",
              "provisionOfDetailedWorks",
              "commencementDate",
              "completionDate",
              "outlinePlanningGrantedDate",
              "reservedMatterPermissionGrantedDate",
              "marketingCommenced",
              "conditionalContractSigned",
              "unconditionalContractSigned",
              "startOnSiteDate",
              "startOnFirstUnitDate",
              "completionOfFinalUnitData",
              "projectCompletionDate",
              "customMileStones",
              "planningStatus",
              "changeRequired"
            ],
            "properties": {
              "commencementOfDueDiligence": {
                "type": "object",
                "title": "Commencement of surveys and due diligence",
                "properties": {
                  "completion": {
                    "type": "object",
                    "required": ["completed"],
                    "title": "",
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "horizontal": true,
                                "type": "object",
                                "required": ["estimatedPercentageComplete", "currentEstimatedDate"],
                                "title": "",
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "surveysAndDueDiligence",
                                      "commencementOfDueDiligence"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "horizontal": true,
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "completionOfSurveys": {
                "title": "Completion of surveys and due diligence",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "title": "",
                    "required": ["completed"],
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "horizontal": true,
                                "type": "object",
                                "title": "",
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "surveysAndDueDiligence",
                                      "completionOfSurveys"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "horizontal": true,
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "procurementOfWorksCommencementDate": {
                "title": "Procurement of works commencement date",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "required": ["completed"],
                    "title": "",
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "enum": ["Yes", "No", "N/A"],
                        "radio": true
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "type": "object",
                                "horizontal": true,
                                "title": "",
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "procurementProvision",
                                      "procurementOfWorksCommencementDate"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "horizontal": true,
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "provisionOfDetailedWorks": {
                "title": "Provision of detailed works specification and milestones",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "required": ["completed"],
                    "title": "",
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "horizontal": true,
                                "type": "object",
                                "title": "",
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "procurementProvision",
                                      "provisionOfDetailedWorks"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "horizontal": true,
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "commencementDate": {
                "title": "Commencement of works date (first, if multiple)",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "title": "",
                    "required": ["completed"],
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "type": "object",
                                "horizontal": true,
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "title": "",
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "worksDate",
                                      "commencementDate"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "horizontal": true,
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "completionDate": {
                "title": "Completion of works date (last, if multiple)",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "required": ["completed"],
                    "title": "",
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "type": "object",
                                "horizontal": true,
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "title": "",
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "worksDate",
                                      "completionDate"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "horizontal": true,
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "outlinePlanningGrantedDate": {
                "title": "Outline planning permission granted date",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "required":["completed"],
                    "title": "",
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              },
                              "planningReferenceNumber": {
                                "type": "string",
                                "title": "Planning Reference Number"
                              }
                            },
                            "required": ["dateOfCompletion", "planningReferenceNumber"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "type": "object",
                                "horizontal": true,
                                "title": "",
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "outlinePlanning",
                                      "outlinePlanningGrantedDate"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "horizontal": true,
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required":["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "reservedMatterPermissionGrantedDate": {
                "title": "Reserved Matter Permission Granted date",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "required": ["completed"],
                    "title": "",
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              },
                              "planningReferenceNumber": {
                                "type": "string",
                                "title": "Planning Reference Number"
                              }
                            },
                            "required": ["dateOfCompletion", "planningReferenceNumber"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "type": "object",
                                "horizontal": true,
                                "title": "",
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "outlinePlanning",
                                      "reservedMatterPermissionGrantedDate"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "horizontal": true,
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "marketingCommenced": {
                "title": "Developer Partner marketing commenced (EOI or formal tender)",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "required": ["completed"],
                    "title": "",
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "type": "object",
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "horizontal": true,
                                "title": "",
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "marketingCommenced"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "required": ["reasonForVariance", "riskToAchievingBaseline"],
                                "horizontal": true,
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "conditionalContractSigned": {
                "title": "Conditional contract signed",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "title": "",
                    "required": ["completed"],
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              },
                              "namesOfContractors": {
                                "type": "string",
                                "title": "Name(s) of contracted housebuilders",
                                "extendedText": true
                              }
                            },
                            "required": ["dateOfCompletion", "namesOfContractors"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "type": "object",
                                "horizontal": true,
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "title": "",
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "contractSigned",
                                      "conditionalContractSigned"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "horizontal": true,
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "unconditionalContractSigned": {
                "title": "Unconditional contract signed",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "required": ["completed"],
                    "title": "",
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "type": "object",
                                "horizontal": true,
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "title": "",
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "contractSigned",
                                      "unconditionalContractSigned"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "horizontal": true,
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "startOnSiteDate": {
                "title": "Start on site date",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "required": ["completed"],
                    "title": "",
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "horizontal": true,
                                "type": "object",
                                "title": "",
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "workDates",
                                      "startOnSiteDate"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "horizontal": true,
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "startOnFirstUnitDate": {
                "title": "Start of first unit date",
                "type": "object",
                "required": ["completed"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "title": "",
                    "required": ["completed"],
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "horizontal": true,
                                "type": "object",
                                "title": "",
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "workDates",
                                      "startOnFirstUnitDate"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "horizontal": true,
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "completionOfFinalUnitData": {
                "title": "Completion of Final Unit Date",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "title": "",
                    "required": ["completed"],
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "type": "object",
                                "horizontal": true,
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "title": "",
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "completionDates",
                                      "completionOfFinalUnitData"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "horizontal": true,
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required": ["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "projectCompletionDate": {
                "title": "Project Completion Date",
                "type": "object",
                "required": ["completion"],
                "properties": {
                  "completion": {
                    "type": "object",
                    "required": ["completed"],
                    "title": "",
                    "properties": {
                      "completed": {
                        "title": "Completed?",
                        "type": "string",
                        "radio": true,
                        "enum": ["Yes", "No", "N/A"]
                      }
                    },
                    "dependencies": {
                      "completed": {
                        "oneOf": [
                          {
                            "properties": {
                              "completed": { "enum": ["Yes"] },
                              "dateOfCompletion": {
                                "type": "string",
                                "title": "Date completed?",
                                "format": "date"
                              }
                            },
                            "required": ["dateOfCompletion"]
                          },
                          {
                            "properties": {
                              "completed": { "enum": ["No"] },
                              "details": {
                                "type": "object",
                                "horizontal": true,
                                "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                "title": "",
                                "properties": {
                                  "baselineDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Baseline Date",
                                    "sourceKey": [
                                      "baseline_data",
                                      "milestones",
                                      "completionDates",
                                      "projectCompletionDate"
                                    ],
                                    "readonly": true
                                  },
                                  "currentEstimatedDate": {
                                    "type": "string",
                                    "title": "Current estimated date",
                                    "format": "date"
                                  },
                                  "estimatedPercentageComplete": {
                                    "type": "string",
                                    "title": "Estimated percentage complete",
                                    "percentage": true
                                  }
                                }
                              },
                              "risk": {
                                "title": "",
                                "type": "object",
                                "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                "horizontal": true,
                                "properties": {
                                  "riskToAchievingBaseline": {
                                    "type": "string",
                                    "title": "Risk to achieving baseline date",
                                    "radio": true,
                                    "enum": [
                                      "Already Achieved",
                                      "Low",
                                      "Medium Low",
                                      "Medium High",
                                      "High"
                                    ]
                                  },
                                  "reasonForVariance": {
                                    "type": "string",
                                    "title": "Reasn for risk/ variance",
                                    "extendedText": true
                                  }
                                }
                              }
                            },
                            "required":["details", "risk"]
                          },
                          {
                            "properties": {
                              "completed": {
                                "enum": ["N/A"]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason that this is not applicable",
                                "extendedText": true
                              }
                            },
                            "required": ["reason"]
                          }
                        ]
                      }
                    }
                  }
                }
              },
              "customMileStones": {
                "type": "array",
                "addable": true,
                "title": "Custom Milestones",
                "items": {
                  "type": "object",
                  "required": ["completion", "milestoneName"],
                  "properties": {
                    "milestoneName": {
                      "type": "string",
                      "title": "Name of custom milestone",
                      "sourceKey": [
                        "baseline_data",
                        "milestones",
                        "customMileStones",
                        "customTitle"
                      ]
                    },
                    "completion": {
                      "type": "object",
                      "title": "",
                      "required": ["completed"],
                      "properties": {
                        "completed": {
                          "title": "Completed?",
                          "type": "string",
                          "radio": true,
                          "enum": ["Yes", "No", "N/A"]
                        }
                      },
                      "dependencies": {
                        "completed": {
                          "oneOf": [
                            {
                              "properties": {
                                "completed": { "enum": ["Yes"] },
                                "dateOfCompletion": {
                                  "type": "string",
                                  "title": "Date completed?",
                                  "format": "date"
                                }
                              },
                              "required": ["dateOfCompletion"]
                            },
                            {
                              "properties": {
                                "completed": { "enum": ["No"] },
                                "details": {
                                  "type": "object",
                                  "horizontal": true,
                                  "required": ["currentEstimatedDate", "estimatedPercentageComplete"],
                                  "title": "",
                                  "properties": {
                                    "baselineDate": {
                                      "type": "string",
                                      "format": "date",
                                      "title": "Baseline Date",
                                      "sourceKey": [
                                        "baseline_data",
                                        "milestones",
                                        "customMileStones",
                                        "customDate"
                                      ],
                                      "readonly": true
                                    },
                                    "currentEstimatedDate": {
                                      "type": "string",
                                      "title": "Current estimated date",
                                      "format": "date"
                                    },
                                    "estimatedPercentageComplete": {
                                      "type": "string",
                                      "title": "Estimated percentage complete",
                                      "percentage": true
                                    }
                                  }
                                },
                                "risk": {
                                  "title": "",
                                  "type": "object",
                                  "required": ["riskToAchievingBaseline", "reasonForVariance"],
                                  "horizontal": true,
                                  "properties": {
                                    "riskToAchievingBaseline": {
                                      "type": "string",
                                      "title": "Risk to achieving baseline date",
                                      "radio": true,
                                      "enum": [
                                        "Already Achieved",
                                        "Low",
                                        "Medium Low",
                                        "Medium High",
                                        "High"
                                      ]
                                    },
                                    "reasonForVariance": {
                                      "type": "string",
                                      "title": "Reasn for risk/ variance",
                                      "extendedText": true
                                    }
                                  }
                                }
                              },
                              "required":["details", "risk"]
                            },
                            {
                              "properties": {
                                "completed": {
                                  "enum": ["N/A"]
                                },
                                "reason": {
                                  "type": "string",
                                  "title": "Reason that this is not applicable",
                                  "extendedText": true
                                }
                              },
                              "required": ["reason"]
                            }
                          ]
                        }
                      }
                    }
                  }
                }
              },
              "planningStatus": {
                "type": "string",
                "title": "Planning Status",
                "enum": [
                  "Not in allocated for housing in Local Plan",
                  "Provisional allocation for housing",
                  "Allocated for housing in Local Plan",
                  "Outline Consent granted",
                  "Reserved Matters granted"
                ]
              },
              "changeRequired": {
                "type": "object",
                "title": "Change Required?",
                "required": ["changeRequiredConfirmation"],
                "properties": {
                  "changeRequiredConfirmation": {
                    "type": "string",
                    "title": "Would you like to request a change to the baseline?",
                    "radio": true,
                    "enum": [
                      "Do not change baseline",
                      "Request change to baseline to match latest estimates"
                    ]
                  }
                },
                "dependencies": {
                  "changeRequiredConfirmation": {
                    "oneOf": [
                      {
                        "properties": {
                          "changeRequiredConfirmation": {
                            "enum": [
                              "Request change to baseline to match latest estimates"
                            ]
                          },
                          "reason": {
                            "type": "string",
                            "extendedText": true,
                            "title": "Reason for change/variance, and steps being taken to address this"
                          }
                        },
                        "required": ["reason"]
                      },
                      {
                        "properties": {
                          "changeRequiredConfirmation": { "enum": ["Do not change baseline"] }
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "grantExpenditure": {
      "title": "Grant Expenditure Profile",
      "type": "object",
      "required": ["remainingEstimate", "riskRating", "changesRequired"],
      "calculation": "periodTotal(formData, ['total'], 'baseline', 'Q1Amount', 'Q2Amount', 'Q3Amount', 'Q4Amount'); periodTotal(formData, ['total'], 'remainingEstimate', 'Q1Amount', 'Q2Amount', 'Q3Amount', 'Q4Amount'); periodTotal(formData, ['total'], 'claimedToDate', 'Q1Amount', 'Q2Amount', 'Q3Amount', 'Q4Amount');",
      "properties": {
        "baseline": {
          "type": "array",
          "title": "Baseline",
          "periods": true,
          "items": {
            "type": "object",
            "title": "",
            "properties": {
              "year": {
                "type": "string",
                "title": "Year",
                "readonly": true,
                "enum": ["2018/19", "2019/20", "2020/21"],
                "sourceKey": [
                  "baseline_data",
                  "financials",
                  "expenditure",
                  "year"
                ]
              },
              "Q1Amount": {
                "type": "string",
                "title": "First Quarter",
                "hidden": true,
                "sourceKey": [
                  "baseline_data",
                  "financials",
                  "expenditure",
                  "Q1Amount"
                ]
              },
              "Q2Amount": {
                "type": "string",
                "title": "Second Quarter",
                "hidden": true,
                "sourceKey": [
                  "baseline_data",
                  "financials",
                  "expenditure",
                  "Q2Amount"
                ]
              },
              "Q3Amount": {
                "type": "string",
                "title": "Third Quarter",
                "hidden": true,
                "sourceKey": [
                  "baseline_data",
                  "financials",
                  "expenditure",
                  "Q3Amount"
                ]
              },
              "Q4Amount": {
                "type": "string",
                "title": "Fourth Quarter",
                "hidden": true,
                "sourceKey": [
                  "baseline_data",
                  "financials",
                  "expenditure",
                  "Q4Amount"
                ]
              },
              "total": {
                "type": "string",
                "title": "Total",
                "currency": true,
                "readonly": true
              }
            }
          }
        },
        "claimedToDate": {
          "type": "array",
          "title": "Achieved to date",
          "quarterly": true,
          "items": {
            "type": "object",
            "title": "",
            "properties": {
              "year": {
                "type": "string",
                "title": "Year",
                "enum": ["2018/19", "2019/20", "2020/21"],
                "laReadOnly": true,
                "sourceKey": [
                  "baseline_data",
                  "financials",
                  "expenditure",
                  "year"
                ]
              },
              "Q1Amount": {
                "type": "string",
                "laReadOnly": true,
                "title": "First Quarter",
                "currency": true
              },
              "Q2Amount": {
                "type": "string",
                "title": "Second Quarter",
                "laReadOnly": true,
                "currency": true
              },
              "Q3Amount": {
                "type": "string",
                "title": "Third Quarter",
                "laReadOnly": true,
                "currency": true
              },
              "Q4Amount": {
                "type": "string",
                "title": "Fourth Quarter",
                "laReadOnly": true,
                "currency": true
              },
              "total": {
                "type": "string",
                "title": "Total",
                "currency": true,
                "readonly": true
              }
            }
          }
        },
        "remainingEstimate": {
          "type": "array",
          "title": "Remaining Estimate",
          "quarterly": true,
          "items": {
            "type": "object",
            "required": ["year", "Q1Amount", "Q2Amount", "Q3Amount", "Q4Amount"],
            "title": "",
            "properties": {
              "year": {
                "type": "string",
                "title": "Year",
                "enum": ["2018/19", "2019/20", "2020/21"],
                "sourceKey": [
                  "baseline_data",
                  "financials",
                  "expenditure",
                  "year"
                ]
              },
              "Q1Amount": {
                "type": "string",
                "title": "First Quarter",
                "currency": true
              },
              "Q2Amount": {
                "type": "string",
                "title": "Second Quarter",
                "currency": true
              },
              "Q3Amount": {
                "type": "string",
                "title": "Third Quarter",
                "currency": true
              },
              "Q4Amount": {
                "type": "string",
                "title": "Fourth Quarter",
                "currency": true
              },
              "total": {
                "type": "string",
                "title": "Total",
                "currency": true,
                "readonly": true
              }
            }
          }
        },
        "riskRating": {
          "type": "array",
          "title": "Risk Rating on Remaining Estimates",
          "quarterly": true,
          "required": ["year", "Q1Amount", "Q2Amount", "Q3Amount", "Q4Amount"],
          "items": {
            "type": "object",
            "title": "",
            "properties": {
              "year": {
                "type": "string",
                "title": "Year",
                "enum": ["2018/19", "2019/20", "2020/21"],
                "sourceKey": [
                  "baseline_data",
                  "financials",
                  "expenditure",
                  "year"
                ]
              },
              "Q1Rating": {
                "type": "string",
                "title": "First Quarter",
                "enum": [
                  "Already Achieved",
                  "Low",
                  "Medium Low",
                  "Medium High",
                  "High"
                ]
              },
              "Q2Rating": {
                "type": "string",
                "title": "Second Quarter",
                "enum": [
                  "Already Achieved",
                  "Low",
                  "Medium Low",
                  "Medium High",
                  "High"
                ]
              },
              "Q3Rating": {
                "type": "string",
                "title": "Third Quarter",
                "enum": [
                  "Already Achieved",
                  "Low",
                  "Medium Low",
                  "Medium High",
                  "High"
                ]
              },
              "Q4Rating": {
                "type": "string",
                "title": "Fourth Quarter",
                "enum": [
                  "Already Achieved",
                  "Low",
                  "Medium Low",
                  "Medium High",
                  "High"
                ]
              },
              "total": {
                "type": "string",
                "hidden": true,
                "title": "Total",
                "enum": [
                  "Already Achieved",
                  "Low",
                  "Medium Low",
                  "Medium High",
                  "High"
                ]
              }
            }
          }
        },
        "changesRequired": {
          "type": "string",
          "radio": true,
          "title": "Changes Required?",
          "enum": [
            "Do not change the baseline - Where there are variances, these will be rectified in due course",
            "Request change to baseline to match latest estimates (changes to timing or overall amount)"
          ]
        }
      },
      "dependencies": {
        "changesRequired": {
          "oneOf": [
            {
              "properties": {
                "changesRequired": { "enum": ["Do not change the baseline - Where there are variances, these will be rectified in due course"] }
              }
            },
            {
              "properties": {
                "changesRequired": {
                  "enum": [
                    "Request change to baseline to match latest estimates (changes to timing or overall amount)"
                  ]
                },
                "reasonForChange": {
                  "type": "string",
                  "title": "Reason for change/variance, and steps being taken to address this",
                  "extendedText": true
                },
                "evidenceUpload": {
                  "type": "string",
                  "title": "Please upload any evidence demonstrating the need to change the baseline, for example responses to tenders.",
                  "uploadFile": "multiple"
                }
              },
              "required": ["reasonForChange"]
            }
          ]
        }
      }
    },
    "housingCompletions": {
      "title": "Housing Completions",
      "type": "array",
      "items": {
        "type": "object",
        "required": ["details"],
        "title": "Site",
        "properties": {
          "details": {
            "type": "object",
            "title": "Housing Completions",
            "required": ["remainingEstimate", "changesRequired"],
            "calculation": "periodTotal(formData, ['total'], 'achievedToDate', 'Q1Amount', 'Q2Amount', 'Q3Amount', 'Q4Amount'); periodTotal(formData, ['total'], 'remainingEstimate', 'Q1Amount', 'Q2Amount', 'Q3Amount', 'Q4Amount');",
            "properties": {
              "siteDetails": {
                "title": "",
                "horizontal": true,
                "type": "object",
                "properties": {
                  "siteName": {
                    "type": "string",
                    "title": "Site Name",
                    "readonly": true,
                    "sourceKey": ["baseline_data", "summary", "sitesSummary", "summary", "name"]
                  },
                  "totalLiveUnits": {
                    "type": "string",
                    "title": "Total Live Units",
                    "readonly": true
                  }
                }
              },
              "achievedToDate": {
                "type": "array",
                "title": "Achieved to date",
                "quarterly": true,
                "addable": true,
                "items": {
                  "type": "object",
                  "title": "",
                  "properties": {
                    "year": {
                      "type": "string",
                      "title": "Year",
                      "enum": [
                        "2018/19",
                        "2019/20",
                        "2020/21",
                        "2021/22",
                        "2022/23",
                        "2023/24",
                        "2024/25",
                        "2025/26",
                        "2026/27",
                        "2027/28",
                        "2028/29",
                        "2029/30",
                        "2030/31",
                        "2031/32",
                        "2032/33",
                        "2033/34",
                        "2034/35",
                        "2035/36",
                        "2036/37",
                        "2037/38",
                        "2038/39",
                        "2039/40"
                      ],
                      "laReadOnly": true
                    },
                    "Q1Amount": {
                      "type": "string",
                      "laReadOnly": true,
                      "title": "First Quarter"
                    },
                    "Q2Amount": {
                      "type": "string",
                      "title": "Second Quarter",
                      "laReadOnly": true
                    },
                    "Q3Amount": {
                      "type": "string",
                      "title": "Third Quarter",
                      "laReadOnly": true
                    },
                    "Q4Amount": {
                      "type": "string",
                      "title": "Fourth Quarter",
                      "laReadOnly": true
                    },
                    "total": {
                      "type": "string",
                      "title": "Total",
                      "readonly": true
                    }
                  }
                }
              },
              "remainingEstimate": {
                "type": "array",
                "title": "Remaining Estimate",
                "required": ["year", "Q1Amount", "Q2Amount", "Q3Amount", "Q4Amount", "total", "riskRating"],
                "quarterly": true,
                "addable": true,
                "items": {
                  "type": "object",
                  "title": "",
                  "properties": {
                    "year": {
                      "type": "string",
                      "title": "Year",
                      "enum": ["2018/19", "2019/20", "2020/21"]
                    },
                    "Q1Amount": {
                      "type": "string",
                      "title": "First Quarter"
                    },
                    "Q2Amount": {
                      "type": "string",
                      "title": "Second Quarter"
                    },
                    "Q3Amount": {
                      "type": "string",
                      "title": "Third Quarter"
                    },
                    "Q4Amount": {
                      "type": "string",
                      "title": "Fourth Quarter"
                    },
                    "total": {
                      "type": "string",
                      "title": "Total",
                      "readonly": true
                    },
                    "riskRating": {
                      "type": "string",
                      "title": "Risk Rating",
                      "enum": [
                        "Already Achieved",
                        "Low",
                        "Medium Low",
                        "Medium High",
                        "High"
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "s151GrantClaimApproval": {
      "title": "S151 Officer Grant Claim Approval",
      "description": "In advance of your first claim, please ensure that your bank details, the Programme (Local Authority Accelerated Construction) and your site reference number(s) have been emailed to apenquiries@homesengland.gov.uk. This will ensure that there are no delays in making payments.",
      "type": "object",
      "properties": {
        "claimSummary": {
          "title": "Summary of Claim",
          "type": "object",
          "properties": {
            "TotalFundingRequest": {
              "type": "string",
              "title": "Total Grant in Contract",
              "s151WriteOnly": true,
              "currency": true
            },
            "SpendToDate": {
              "type": "string",
              "hidden": true,
              "title": "Claimed to Date",
              "s151WriteOnly": true,
              "currency": true
            },
            "AmountOfThisClaim": {
              "type": "string",
              "title": "Amount of this Claim",
              "currency": true
            },
            "conditionsToGrantDrawdown": {
              "type": "string",
              "title": "Conditions precedent to draw down of grant",
              "uploadFile": "multiple",
              "description": "If you have conditions to meet before you can draw down grant, please email any evidence for meeting these to your Homes England projects lead, or attach the documents below."
            }
          }
        },
        "supportingEvidence": {
          "type": "object",
          "title": "Supporting Evidence",
          "properties": {
            "evidenceOfSpendPastQuarter": {
              "title": "Evidence of Spend for the Past Quarter.",
              "description": "Evidence can include contract/ quotes. Please attach here.",
              "uploadFile": "multiple",
              "type": "string"
            },
            "breakdownOfNextQuarterSpend": {
              "title": "Next Quarter Spend",
              "type": "object",
              "properties": {
                "forecast": {
                  "title": "Forecast Spend",
                  "type": "string",
                  "currency": true
                },
                "descriptionOfSpend": {
                  "title": "Description of Spend",
                  "type": "string",
                  "extendedText": true
                }
              }
            }
          }
        }
      }
    },
    "s151submission": {
      "title": "S151 Officer Submission Sign-Off",
      "type": "object",
      "required": ["submission"],
      "properties": {
        "submission": {
          "type": "object",
          "title": "",
          "required": ["confirmation"],
          "properties": {
            "confirmation": {
              "type": "object",
              "required": [
                "estimatedGrantProfiles",
                "milestoneDateEstimates",
                "milestoneDatesAchieved",
                "housingOutputsEstimates",
                "housingClaimedAsAchieved",
                "receiptEstimates",
                "noOtherGrantFunding"
              ],
              "title": "Please confirm you are content with the submission, including:",
              "properties": {
                "estimatedGrantProfiles": {
                  "type": "string",
                  "title": "Estimated grant draw down profiles, including any changes requested to these",
                  "enum": ["Yes", "No"],
                  "s151WriteOnly": true,
                  "radio": true
                },
                "milestoneDateEstimates": {
                  "type": "string",
                  "title": "Milestone date estimates, including any changes requested to these",
                  "enum": ["Yes", "No"],
                  "s151WriteOnly": true,
                  "radio": true
                },
                "milestoneDatesAchieved": {
                  "type": "string",
                  "title": "Milestone dates achieved, including any evidence submitted to validate these",
                  "enum": ["Yes", "No"],
                  "s151WriteOnly": true,
                  "radio": true
                },
                "housingOutputsEstimates": {
                  "type": "string",
                  "title": "Housing output profile estimates, including any changes requested to these",
                  "enum": ["Yes", "No"],
                  "s151WriteOnly": true,
                  "radio": true
                },
                "housingClaimedAsAchieved": {
                  "type": "string",
                  "title": "Housing outputs claimed as achieved, including any evidence submitted to validate these",
                  "enum": ["Yes", "No"],
                  "s151WriteOnly": true,
                  "radio": true
                },
                "receiptEstimates": {
                  "type": "string",
                  "title": "Receipt (income) estimates and actual income, including any evidence submitted to validate these",
                  "enum": ["Yes", "No"],
                  "s151WriteOnly": true,
                  "radio": true
                },
                "noOtherGrantFunding": {
                  "type": "string",
                  "title": "That no other Grant Funding Agreement conditions have been breached.",
                  "enum": ["Yes", "No"],
                  "s151WriteOnly": true,
                  "radio": true
                }
              }
            }
          }
        }
      }
    },
    "reviewAndAssurance": {
      "title": "Review and Assurance",
      "type": "object",
      "laHidden": true,
      "properties": {
        "date": {
          "title": "Date of most recent meeting",
          "type": "string",
          "format": "date"
        },
        "dateRisk": {
          "title": "Date risk ratings last updated",
          "type": "string",
          "format": "date"
        },
        "infrastructureDelivery": {
          "type": "object",
          "title": "",
          "horizontal": true,
          "properties": {
            "details": {
              "type": "string",
              "title": "Infrastructure Delivery",
              "extendedText": true
            },
            "riskRating": {
              "type": "string",
              "title": "Risk Rating",
              "enum": ["High", "Medium High", "Medium Low", "Low", "Achieved"]
            }
          }
        },
        "planningAndProcurement": {
          "type": "object",
          "title": "",
          "horizontal": true,
          "properties": {
            "details": {
              "type": "string",
              "title": "Planning and Procurement",
              "extendedText": true
            },
            "riskRating": {
              "type": "string",
              "title": "Risk Rating",
              "enum": ["High", "Medium High", "Medium Low", "Low", "Contractual"]
            }
          }
        },
        "expenditure": {
          "type": "object",
          "title": "",
          "horizontal": true,
          "properties": {
            "details": {
              "type": "string",
              "title": "Expenditure",
              "extendedText": true
            },
            "riskRating": {
              "type": "string",
              "title": "Risk Rating",
              "enum": ["High", "Medium High", "Medium Low", "Low", "Contractual"]
            }
          }
        },
        "deliverablesObjectivesAndOutputs": {
          "type": "object",
          "title": "",
          "horizontal": true,
          "properties": {
            "details": {
              "type": "string",
              "title": "Deliverables, Objectives and Outputs",
              "extendedText": true
            },
            "riskRating": {
              "type": "string",
              "title": "Risk Rating",
              "enum": ["High", "Medium High", "Medium Low", "Low", "Contractual"]
            }
          }
        },
        "overallSummary": {
          "type": "object",
          "title": "",
          "horizontal": true,
          "properties": {
            "details": {
              "type": "string",
              "title": "Overall Summary",
              "extendedText": true
            },
            "riskRating": {
              "type": "string",
              "title": "Overall risk rating",
              "enum": ["High", "Medium High", "Medium Low", "Low", "Contractual"]
            }
          }
        },
        "heAuthorisation": {
          "type": "object",
          "title": "Homes England Authorisation",
          "properties": {
            "heAuthoriser": {
              "type": "string",
              "title": "Authorised by:",
              "laReadOnly": true
            }
          }
        }
      }
    }
  }
}
